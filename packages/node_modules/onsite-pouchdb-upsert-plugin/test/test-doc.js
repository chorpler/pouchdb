const oo = require('json8');

var originalDoc = {
  _id: 'testdoc_20190313_171236',
  name: "2019-03-13",
  "start": "2019-03-13",
  "end": "2019-03-19",
  "techs": [
    "aaron",
    "bill",
    "charles",
    "daniel",
    "edward",
    "felicity",
    "grace",
    "helen",
    "isildur"
  ],
  "schedule": {
    "Site A": {
      "AM": [
        "aaron",
        "charles"
      ],
      "PM": [
        "bobert",
        "daniel"
      ]
    },
    "Site B": {
      "AM": [
        "isildur",
        "grace",
        "felicity"
      ],
      "PM": [
        "helen",
        "edward"
      ]
    }
  },
  updated: ""
};

const cloneDoc = function(doc) {
  // let newDoc = Object.assign({}, doc);
  console.log("cloneDoc(): Cloning document:", doc);
  let newDoc = null;
  try {
    newDoc = oo.clone(doc);
  } catch(err) {
    console.log("cloneDoc(): Error cloning document");
    console.e(err);
    // throw err;
  }
  return newDoc;
};

module.exports = {
  doc: originalDoc,
  cloneDoc: cloneDoc,
};